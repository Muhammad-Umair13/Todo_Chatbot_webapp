["0.1.0\"\n  title: \"Phase II Task API\"\n  description: |\n    RESTful API for task management in Phase II Todo Web Application.\n    All endpoints require JWT authentication via Better Auth.\n    Tasks are isolated per user with strict ownership enforcement.\n  version: \"2.0.0\"\n  contact:\n    name: \"API Support\"\n  license:\n    name: \"MIT\"\n\nservers:\n  - url: http://localhost:8000\n    description: Local development server\n  - url: https://api.example.com\n    description: Production server\n\nsecurity:\n  - BearerAuth: []\n\ntags:\n  - name: tasks\n    description: Task CRUD operations\n\npaths:\n  /api/tasks:\n    get:\n      summary: List tasks\n      operationId: listTasks\n      tags:\n        - tasks\n      description: |\n        Retrieve all tasks for the authenticated user.\n        Optionally filter by completion status.\n      security:\n        - BearerAuth: []\n      parameters:\n        - name: completed\n          in: query\n          description: Filter by completion status (optional)\n          required: false\n          schema:\n            type: boolean\n          example: false\n      responses:\n        '200':\n          description: List of tasks retrieved successfully\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/TaskRead'\n              example:\n                - id: 1\n                  user_id: \"user-123\"\n                  title: \"Complete project documentation\"\n                  description: \"Write comprehensive API docs\"\n                  completed: false\n                  created_at: \"2025-01-13T10:00:00Z\"\n                  updated_at: \"2025-01-13T10:00:00Z\"\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\n    post:\n      summary: Create task\n      operationId: createTask\n      tags:\n        - tasks\n      description: |\n        Create a new task for the authenticated user.\n        The completed status defaults to false if not provided.\n      security:\n        - BearerAuth: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/TaskCreate'\n            example:\n              title: \"Complete project documentation\"\n              description: \"Write comprehensive API docs\"\n              completed: false\n      responses:\n        '201':\n          description: Task created successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TaskRead'\n              example:\n                id: 1\n                user_id: \"user-123\"\n                title: \"Complete project documentation\"\n                description: \"Write comprehensive API docs\"\n                completed: false\n                created_at: \"2025-01-13T10:00:00Z\"\n                updated_at: \"2025-01-13T10:00:00Z\"\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '422':\n          $ref: '#/components/responses/ValidationError'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\n  /api/tasks/{id}:\n    get:\n      summary: Get task by ID\n      operationId: getTask\n      tags:\n        - tasks\n      description: |\n        Retrieve a specific task by ID.\n        Returns 404 if task does not exist or is not owned by the user.\n      security:\n        - BearerAuth: []\n      parameters:\n        - $ref: '#/components/parameters/TaskId'\n      responses:\n        '200':\n          description: Task retrieved successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TaskRead'\n              example:\n                id: 1\n                user_id: \"user-123\"\n                title: \"Complete project documentation\"\n                description: \"Write comprehensive API docs\"\n                completed: false\n                created_at: \"2025-01-13T10:00:00Z\"\n                updated_at: \"2025-01-13T10:00:00Z\"\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\n    put:\n      summary: Update entire task\n      operationId: updateTask\n      tags:\n        - tasks\n      description: |\n        Update an entire task by ID.\n        All fields are required. Returns 404 if task does not exist or is not owned by the user.\n      security:\n        - BearerAuth: []\n      parameters:\n        - $ref: '#/components/parameters/TaskId'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/TaskUpdate'\n            example:\n              title: \"Complete API documentation\"\n              description: \"Write comprehensive docs with examples\"\n              completed: true\n      responses:\n        '200':\n          description: Task updated successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TaskRead'\n              example:\n                id: 1\n                user_id: \"user-123\"\n                title: \"Complete API documentation\"\n              description: \"Write comprehensive docs with examples\"\n              completed: true\n              created_at: \"2025-01-13T10:00:00Z\"\n              updated_at: \"2025-01-13T14:30:00Z\"\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '422':\n          $ref: '#/components/responses/ValidationError'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\n    patch:\n      summary: Partially update task\n      operationId: patchTask\n      tags:\n        - tasks\n      description: |\n        Update specific fields of a task.\n        Only provided fields are updated.\n        Returns 404 if task does not exist or is not owned by the user.\n      security:\n        - BearerAuth: []\n      parameters:\n        - $ref: '#/components/parameters/TaskId'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/TaskPartialUpdate'\n            example:\n              title: \"Update task title only\"\n      responses:\n        '200':\n          description: Task updated successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TaskRead'\n              example:\n                id: 1\n                user_id: \"user-123\"\n                title: \"Update task title only\"\n                description: \"Write comprehensive docs with examples\"\n                completed: false\n                created_at: \"2025-01-13T10:00:00Z\"\n                updated_at: \"2025-01-13T14:30:00Z\"\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '422':\n          $ref: '#/components/responses/ValidationError'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\n    delete:\n      summary: Delete task\n      operationId: deleteTask\n      tags:\n        - tasks\n      description: |\n        Delete a task by ID.\n        Returns 404 if task does not exist or is not owned by the user.\n        This operation is permanent and cannot be undone.\n      security:\n        - BearerAuth: []\n      parameters:\n        - $ref: '#/components/parameters/TaskId'\n      responses:\n        '204':\n          description: Task deleted successfully (no content)\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\n  /api/tasks/{id}/complete:\n    patch:\n      summary: Toggle task completion\n      operationId: toggleTaskCompletion\n      tags:\n        - tasks\n      description: |\n        Toggle the completion status of a task.\n        Returns 404 if task does not exist or is not owned by the user.\n      security:\n        - BearerAuth: []\n      parameters:\n        - $ref: '#/components/parameters/TaskId'\n      responses:\n        '200':\n          description: Task completion status toggled successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TaskRead'\n              example:\n                id: 1\n                user_id: \"user-123\"\n                title: \"Complete project documentation\"\n                description: \"Write comprehensive API docs\"\n                completed: true\n                created_at: \"2025-01-13T10:00:00Z\"\n                updated_at: \"2025-01-13T14:30:00Z\"\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '500':\n          $ref: '#/components/responses/InternalError'\n\ncomponents:\n  securitySchemes:\n    BearerAuth:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n      description: |\n        JWT token issued by Better Auth.\n        Include in Authorization header as: Bearer <token>\n\n  parameters:\n    TaskId:\n      name: id\n      in: path\n      required: true\n      description: The ID of the task\n      schema:\n        type: integer\n      example: 1\n\n  schemas:\n    TaskCreate:\n      type: object\n      required:\n        - title\n      properties:\n        title:\n          type: string\n          minLength: 1\n          description: Task title (minimum 1 character)\n          example: \"Complete project documentation\"\n        description:\n          type: string\n          maxLength: 1000\n          description: Optional task details (maximum 1000 characters)\n          example: \"Write comprehensive API docs\"\n          default: \"\"\n        completed:\n          type: boolean\n          description: Task completion status\n          example: false\n          default: false\n\n    TaskUpdate:\n      type: object\n      required:\n        - title\n        - description\n        - completed\n      properties:\n        title:\n          type: string\n          minLength: 1\n          description: Task title\n          example: \"Complete project documentation\"\n        description:\n          type: string\n          maxLength: 1000\n          description: Task details\n          example: \"Write comprehensive API docs\"\n        completed:\n          type: boolean\n          description: Task completion status\n          example: false\n\n    TaskPartialUpdate:\n      type: object\n      properties:\n        title:\n          type: string\n          minLength: 1\n          description: Task title\n          example: \"Updated title\"\n        description:\n          type: string\n          maxLength: 1000\n          description: Task details\n          example: \"Updated description\"\n        completed:\n          type: boolean\n          description: Task completion status\n          example: true\n\n    TaskRead:\n      type: object\n      required:\n        - id\n        - user_id\n        - title\n        - description\n        - completed\n        - created_at\n        - updated_at\n      properties:\n        id:\n          type: integer\n          description: Unique task identifier\n          example: 1\n        user_id:\n          type: string\n          description: User identifier from JWT\n          example: \"user-123\"\n        title:\n          type: string\n          description: Task title\n          example: \"Complete project documentation\"\n        description:\n          type: string\n          description: Task details\n          example: \"Write comprehensive API docs\"\n        completed:\n          type: boolean\n          description: Task completion status\n          example: false\n        created_at:\n          type: string\n          format: date-time\n          description: Creation timestamp (UTC)\n          example: \"2025-01-13T10:00:00Z\"\n        updated_at:\n          type: string\n          format: date-time\n          description: Last update timestamp (UTC)\n          example: \"2025-01-13T14:30:00Z\"\n\n    ErrorResponse:\n      type: object\n      required:\n        - detail\n      properties:\n        detail:\n          type: string\n          description: User-friendly error message\n          example: \"Task not found\"\n        error_code:\n          type: string\n          description: Machine-readable error code\n          example: \"TASK_NOT_FOUND\"\n\n  responses:\n    BadRequest:\n      description: Bad request - Invalid input\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ErrorResponse'\n          example:\n            detail: \"Title must be at least 1 character\"\n            error_code: \"INVALID_INPUT\"\n\n    Unauthorized:\n      description: Unauthorized - Invalid or missing JWT\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ErrorResponse'\n          example:\n            detail: \"Invalid authentication credentials\"\n            error_code: \"UNAUTHORIZED\"\n\n    Forbidden:\n      description: Forbidden - Task not owned by user\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ErrorResponse'\n          example:\n            detail: \"Task not found\"\n            error_code: \"FORBIDDEN\"\n\n    NotFound:\n      description: Not Found - Task does not exist or not owned\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ErrorResponse'\n          example:\n            detail: \"Task not found\"\n            error_code: \"TASK_NOT_FOUND\"\n\n    ValidationError:\n      description: Validation Error - Request body validation failed\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ErrorResponse'\n          example:\n            detail: \"description must be at most 1000 characters\"\n            error_code: \"VALIDATION_ERROR\"\n\n    InternalError:\n      description: Internal Server Error\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ErrorResponse'\n          example:\n            detail: \"An unexpected error occurred\"\n            error_code: \"INTERNAL_ERROR\""]